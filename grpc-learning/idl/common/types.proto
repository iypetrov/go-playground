syntax = "proto3";

package types;
option go_package = "github.com/iypetrov/grpc-learning/gen/common";

enum EventType {
  POP = 0;
  ROCK = 1;
}

enum Status { 
  AVAILABLE = 0; 
  SOLD = 1; 
  CANCELLED = 2; 
}

message User {
  string id = 1;
}

message Event {
  string id = 1;
  string name = 2;
  string description = 3;
  EventType type = 4;
}

message Ticket {
  string id = 1;
  Event event = 2;
  double price = 3;
  User user = 4;
}

message Tickets { 
  repeated Ticket tickets = 1; 
}

message Payment {
  User user = 1;
  Ticket ticket = 2;
  double price = 3;
}

message TicketUpdate {
  string ticketId = 1;
  Status status = 2;
}
